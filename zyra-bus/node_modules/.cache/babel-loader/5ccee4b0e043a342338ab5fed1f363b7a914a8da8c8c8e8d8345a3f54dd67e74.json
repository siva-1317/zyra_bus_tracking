{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sathy\\\\OneDrive\\\\Desktop\\\\bus-app\\\\zyra-bus\\\\src\\\\pages\\\\driver\\\\DriverTrackingPage.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useEffect, useRef, useState } from \"react\";\nimport { Container, Card, Button, Badge, Row, Col, Alert } from \"react-bootstrap\";\nimport { MapContainer, TileLayer, Marker, Popup, Polyline, useMap } from \"react-leaflet\";\nimport API from \"../../api\";\nimport L from \"leaflet\";\nimport \"leaflet/dist/leaflet.css\";\nimport busImage from \"../../assets/bus.png\";\n\n/* ================= FIX MARKER ================= */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: \"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png\",\n  iconUrl: \"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png\",\n  shadowUrl: \"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png\"\n});\n\n/* ================= ICONS ================= */\nconst stopIcon = new L.Icon({\n  iconUrl: \"https://cdn-icons-png.flaticon.com/512/684/684908.png\",\n  iconSize: [25, 25],\n  iconAnchor: [12, 25]\n});\nconst busIcon = new L.Icon({\n  iconUrl: busImage,\n  iconSize: [40, 40],\n  iconAnchor: [20, 20]\n});\n\n/* ================= AUTO CENTER ================= */\nfunction RecenterMap({\n  location\n}) {\n  _s();\n  const map = useMap();\n  useEffect(() => {\n    if (location) {\n      map.setView([location.lat, location.lng], 15);\n    }\n  }, [location, map]);\n  return null;\n}\n_s(RecenterMap, \"IoceErwr5KVGS9kN4RQ1bOkYMAg=\", false, function () {\n  return [useMap];\n});\n_c = RecenterMap;\nexport default function DriverTrackingPage() {\n  _s2();\n  const [trip, setTrip] = useState(null);\n  const [bus, setBus] = useState(null);\n  const [location, setLocation] = useState(null);\n  const [status, setStatus] = useState(\"loading\");\n  const [routeCoords, setRouteCoords] = useState([]);\n  const watchRef = useRef(null);\n  const previousLocation = useRef(null);\n  const animationRef = useRef(null);\n\n  /* ================= FETCH ACTIVE TRIP ================= */\n  const loadActiveTrip = async () => {\n    try {\n      const res = await API.get(\"/driver/active-trip\");\n      setTrip(res.data.trip);\n      setBus(res.data.bus);\n      if (res.data.trip) {\n        setStatus(res.data.trip.status);\n        if (res.data.trip.status === \"running\") {\n          startGPS(res.data.trip._id);\n        }\n      } else {\n        setStatus(\"idle\");\n      }\n    } catch {\n      setStatus(\"idle\");\n    }\n  };\n  useEffect(() => {\n    loadActiveTrip();\n  }, []);\n\n  /* ================= CLEANUP ================= */\n  useEffect(() => {\n    return () => {\n      if (watchRef.current) navigator.geolocation.clearWatch(watchRef.current);\n      if (animationRef.current) cancelAnimationFrame(animationRef.current);\n    };\n  }, []);\n\n  /* ================= ANIMATION ================= */\n  const animateMovement = newLoc => {\n    if (!previousLocation.current) {\n      previousLocation.current = newLoc;\n      setLocation(newLoc);\n      return;\n    }\n    const start = previousLocation.current;\n    const end = newLoc;\n    const duration = 800;\n    const startTime = performance.now();\n    const animate = time => {\n      const progress = Math.min((time - startTime) / duration, 1);\n      const lat = start.lat + (end.lat - start.lat) * progress;\n      const lng = start.lng + (end.lng - start.lng) * progress;\n      setLocation({\n        lat,\n        lng\n      });\n      if (progress < 1) {\n        animationRef.current = requestAnimationFrame(animate);\n      } else {\n        previousLocation.current = newLoc;\n      }\n    };\n    animationRef.current = requestAnimationFrame(animate);\n  };\n\n  /* ================= ROUTE LOGIC ================= */\n  useEffect(() => {\n    if (!bus || !trip) return;\n    const fetchRoute = async () => {\n      try {\n        let route = [];\n        if (trip.tripType === \"event\" && trip.destinationLat) {\n          var _data$routes;\n          const start = bus.stops[0];\n          const url = `https://router.project-osrm.org/route/v1/driving/${start.lng},${start.lat};${trip.destinationLng},${trip.destinationLat}?overview=full&geometries=geojson`;\n          const res = await fetch(url);\n          const data = await res.json();\n          if (((_data$routes = data.routes) === null || _data$routes === void 0 ? void 0 : _data$routes.length) > 0) {\n            route = data.routes[0].geometry.coordinates.map(c => [c[1], c[0]]);\n          }\n        } else {\n          for (let i = 0; i < bus.stops.length - 1; i++) {\n            var _data$routes2;\n            const start = bus.stops[i];\n            const end = bus.stops[i + 1];\n            const url = `https://router.project-osrm.org/route/v1/driving/${start.lng},${start.lat};${end.lng},${end.lat}?overview=full&geometries=geojson`;\n            const res = await fetch(url);\n            const data = await res.json();\n            if (((_data$routes2 = data.routes) === null || _data$routes2 === void 0 ? void 0 : _data$routes2.length) > 0) {\n              const segment = data.routes[0].geometry.coordinates.map(c => [c[1], c[0]]);\n              route = [...route, ...segment];\n            }\n          }\n        }\n        setRouteCoords(route);\n      } catch {\n        console.log(\"Route load failed\");\n      }\n    };\n    fetchRoute();\n  }, [trip, bus]);\n\n  /* ================= GPS ================= */\n  const startGPS = id => {\n    if (!navigator.geolocation) return;\n    watchRef.current = navigator.geolocation.watchPosition(async pos => {\n      const newLoc = {\n        lat: pos.coords.latitude,\n        lng: pos.coords.longitude\n      };\n      animateMovement(newLoc);\n      await API.post(`/driver/trip/${id}/location`, newLoc);\n    }, err => console.log(err), {\n      enableHighAccuracy: true\n    });\n  };\n  const stopGPS = () => {\n    if (watchRef.current) navigator.geolocation.clearWatch(watchRef.current);\n  };\n\n  /* ================= CONTROLS ================= */\n  const startTrip = async () => {\n    await API.post(`/driver/trip/${trip._id}/start`);\n    setStatus(\"running\");\n    startGPS(trip._id);\n  };\n  const pauseTrip = async () => {\n    await API.post(`/driver/trip/${trip._id}/pause`);\n    stopGPS();\n    setStatus(\"paused\");\n  };\n  const resumeTrip = async () => {\n    await API.post(`/driver/trip/${trip._id}/resume`);\n    setStatus(\"running\");\n    startGPS(trip._id);\n  };\n  const endTrip = async () => {\n    await API.post(`/driver/trip/${trip._id}/end`);\n    stopGPS();\n    previousLocation.current = null;\n    setLocation(null);\n    await loadActiveTrip(); // ðŸ”¥ Auto load next trip\n  };\n\n  /* ================= STATUS COLOR ================= */\n  const getBadgeColor = () => {\n    switch (status) {\n      case \"running\":\n        return \"success\";\n      case \"paused\":\n        return \"warning\";\n      case \"planned\":\n        return \"primary\";\n      case \"completed\":\n        return \"secondary\";\n      default:\n        return \"info\";\n    }\n  };\n  if (!bus) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      className: \"mt-4\",\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"warning\",\n        children: \"No bus assigned.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"mt-4\",\n    children: [/*#__PURE__*/_jsxDEV(Card, {\n      className: \"shadow-lg p-4 mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: 8,\n          children: /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: [\"Driver Tracking - \", bus.busNo]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 4,\n          className: \"text-end\",\n          children: /*#__PURE__*/_jsxDEV(Badge, {\n            bg: getBadgeColor(),\n            children: status === null || status === void 0 ? void 0 : status.toUpperCase()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-3 d-flex gap-2\",\n        children: [status === \"planned\" && /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"success\",\n          onClick: startTrip,\n          children: \"Start Trip\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 13\n        }, this), status === \"running\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"warning\",\n            onClick: pauseTrip,\n            children: \"Pause\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"danger\",\n            onClick: endTrip,\n            children: \"End\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), status === \"paused\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: resumeTrip,\n            children: \"Resume\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"danger\",\n            onClick: endTrip,\n            children: \"End\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"shadow-lg p-3\",\n      children: /*#__PURE__*/_jsxDEV(MapContainer, {\n        center: routeCoords.length ? routeCoords[0] : [bus.stops[0].lat, bus.stops[0].lng],\n        zoom: 14,\n        style: {\n          height: \"500px\",\n          width: \"100%\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n          attribution: \"\\xA9 OpenStreetMap contributors\",\n          url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 11\n        }, this), routeCoords.length > 0 && /*#__PURE__*/_jsxDEV(Polyline, {\n          positions: routeCoords,\n          color: \"blue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 13\n        }, this), (trip === null || trip === void 0 ? void 0 : trip.tripType) !== \"event\" && bus.stops.map((stop, i) => /*#__PURE__*/_jsxDEV(Marker, {\n          position: [stop.lat, stop.lng],\n          icon: stopIcon,\n          children: /*#__PURE__*/_jsxDEV(Popup, {\n            children: stop.stopName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 17\n          }, this)\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 15\n        }, this)), location && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Marker, {\n            position: [location.lat, location.lng],\n            icon: busIcon,\n            children: /*#__PURE__*/_jsxDEV(Popup, {\n              children: \"Live Bus\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(RecenterMap, {\n            location: location\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 266,\n    columnNumber: 5\n  }, this);\n}\n_s2(DriverTrackingPage, \"DFTOmbQ9xlnOLxRk3yt8Dp/SMOs=\");\n_c2 = DriverTrackingPage;\nvar _c, _c2;\n$RefreshReg$(_c, \"RecenterMap\");\n$RefreshReg$(_c2, \"DriverTrackingPage\");","map":{"version":3,"names":["useEffect","useRef","useState","Container","Card","Button","Badge","Row","Col","Alert","MapContainer","TileLayer","Marker","Popup","Polyline","useMap","API","L","busImage","jsxDEV","_jsxDEV","Fragment","_Fragment","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","stopIcon","iconSize","iconAnchor","busIcon","RecenterMap","location","_s","map","setView","lat","lng","_c","DriverTrackingPage","_s2","trip","setTrip","bus","setBus","setLocation","status","setStatus","routeCoords","setRouteCoords","watchRef","previousLocation","animationRef","loadActiveTrip","res","get","data","startGPS","_id","current","navigator","geolocation","clearWatch","cancelAnimationFrame","animateMovement","newLoc","start","end","duration","startTime","performance","now","animate","time","progress","Math","min","requestAnimationFrame","fetchRoute","route","tripType","destinationLat","_data$routes","stops","url","destinationLng","fetch","json","routes","length","geometry","coordinates","c","i","_data$routes2","segment","console","log","id","watchPosition","pos","coords","latitude","longitude","post","err","enableHighAccuracy","stopGPS","startTrip","pauseTrip","resumeTrip","endTrip","getBadgeColor","className","children","variant","fileName","_jsxFileName","lineNumber","columnNumber","md","busNo","bg","toUpperCase","onClick","center","zoom","style","height","width","attribution","positions","color","stop","position","icon","stopName","_c2","$RefreshReg$"],"sources":["C:/Users/sathy/OneDrive/Desktop/bus-app/zyra-bus/src/pages/driver/DriverTrackingPage.js"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\r\nimport {\r\n  Container,\r\n  Card,\r\n  Button,\r\n  Badge,\r\n  Row,\r\n  Col,\r\n  Alert,\r\n} from \"react-bootstrap\";\r\nimport {\r\n  MapContainer,\r\n  TileLayer,\r\n  Marker,\r\n  Popup,\r\n  Polyline,\r\n  useMap,\r\n} from \"react-leaflet\";\r\nimport API from \"../../api\";\r\n\r\nimport L from \"leaflet\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport busImage from \"../../assets/bus.png\";\r\n\r\n/* ================= FIX MARKER ================= */\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl:\r\n    \"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png\",\r\n  iconUrl:\r\n    \"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png\",\r\n  shadowUrl:\r\n    \"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png\",\r\n});\r\n\r\n/* ================= ICONS ================= */\r\nconst stopIcon = new L.Icon({\r\n  iconUrl: \"https://cdn-icons-png.flaticon.com/512/684/684908.png\",\r\n  iconSize: [25, 25],\r\n  iconAnchor: [12, 25],\r\n});\r\n\r\nconst busIcon = new L.Icon({\r\n  iconUrl: busImage,\r\n  iconSize: [40, 40],\r\n  iconAnchor: [20, 20],\r\n});\r\n\r\n/* ================= AUTO CENTER ================= */\r\nfunction RecenterMap({ location }) {\r\n  const map = useMap();\r\n  useEffect(() => {\r\n    if (location) {\r\n      map.setView([location.lat, location.lng], 15);\r\n    }\r\n  }, [location, map]);\r\n  return null;\r\n}\r\n\r\nexport default function DriverTrackingPage() {\r\n  const [trip, setTrip] = useState(null);\r\n  const [bus, setBus] = useState(null);\r\n  const [location, setLocation] = useState(null);\r\n  const [status, setStatus] = useState(\"loading\");\r\n  const [routeCoords, setRouteCoords] = useState([]);\r\n\r\n  const watchRef = useRef(null);\r\n  const previousLocation = useRef(null);\r\n  const animationRef = useRef(null);\r\n\r\n  /* ================= FETCH ACTIVE TRIP ================= */\r\n  const loadActiveTrip = async () => {\r\n    try {\r\n      const res = await API.get(\"/driver/active-trip\");\r\n\r\n      setTrip(res.data.trip);\r\n      setBus(res.data.bus);\r\n\r\n      if (res.data.trip) {\r\n        setStatus(res.data.trip.status);\r\n\r\n        if (res.data.trip.status === \"running\") {\r\n          startGPS(res.data.trip._id);\r\n        }\r\n      } else {\r\n        setStatus(\"idle\");\r\n      }\r\n    } catch {\r\n      setStatus(\"idle\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadActiveTrip();\r\n  }, []);\r\n\r\n  /* ================= CLEANUP ================= */\r\n  useEffect(() => {\r\n    return () => {\r\n      if (watchRef.current)\r\n        navigator.geolocation.clearWatch(watchRef.current);\r\n      if (animationRef.current)\r\n        cancelAnimationFrame(animationRef.current);\r\n    };\r\n  }, []);\r\n\r\n  /* ================= ANIMATION ================= */\r\n  const animateMovement = (newLoc) => {\r\n    if (!previousLocation.current) {\r\n      previousLocation.current = newLoc;\r\n      setLocation(newLoc);\r\n      return;\r\n    }\r\n\r\n    const start = previousLocation.current;\r\n    const end = newLoc;\r\n    const duration = 800;\r\n    const startTime = performance.now();\r\n\r\n    const animate = (time) => {\r\n      const progress = Math.min((time - startTime) / duration, 1);\r\n\r\n      const lat = start.lat + (end.lat - start.lat) * progress;\r\n      const lng = start.lng + (end.lng - start.lng) * progress;\r\n\r\n      setLocation({ lat, lng });\r\n\r\n      if (progress < 1) {\r\n        animationRef.current = requestAnimationFrame(animate);\r\n      } else {\r\n        previousLocation.current = newLoc;\r\n      }\r\n    };\r\n\r\n    animationRef.current = requestAnimationFrame(animate);\r\n  };\r\n\r\n  /* ================= ROUTE LOGIC ================= */\r\n  useEffect(() => {\r\n    if (!bus || !trip) return;\r\n\r\n    const fetchRoute = async () => {\r\n      try {\r\n        let route = [];\r\n\r\n        if (trip.tripType === \"event\" && trip.destinationLat) {\r\n          const start = bus.stops[0];\r\n\r\n          const url = `https://router.project-osrm.org/route/v1/driving/${start.lng},${start.lat};${trip.destinationLng},${trip.destinationLat}?overview=full&geometries=geojson`;\r\n\r\n          const res = await fetch(url);\r\n          const data = await res.json();\r\n\r\n          if (data.routes?.length > 0) {\r\n            route = data.routes[0].geometry.coordinates.map((c) => [\r\n              c[1],\r\n              c[0],\r\n            ]);\r\n          }\r\n        } else {\r\n          for (let i = 0; i < bus.stops.length - 1; i++) {\r\n            const start = bus.stops[i];\r\n            const end = bus.stops[i + 1];\r\n\r\n            const url = `https://router.project-osrm.org/route/v1/driving/${start.lng},${start.lat};${end.lng},${end.lat}?overview=full&geometries=geojson`;\r\n\r\n            const res = await fetch(url);\r\n            const data = await res.json();\r\n\r\n            if (data.routes?.length > 0) {\r\n              const segment = data.routes[0].geometry.coordinates.map((c) => [\r\n                c[1],\r\n                c[0],\r\n              ]);\r\n              route = [...route, ...segment];\r\n            }\r\n          }\r\n        }\r\n\r\n        setRouteCoords(route);\r\n      } catch {\r\n        console.log(\"Route load failed\");\r\n      }\r\n    };\r\n\r\n    fetchRoute();\r\n  }, [trip, bus]);\r\n\r\n  /* ================= GPS ================= */\r\n  const startGPS = (id) => {\r\n    if (!navigator.geolocation) return;\r\n\r\n    watchRef.current = navigator.geolocation.watchPosition(\r\n      async (pos) => {\r\n        const newLoc = {\r\n          lat: pos.coords.latitude,\r\n          lng: pos.coords.longitude,\r\n        };\r\n\r\n        animateMovement(newLoc);\r\n\r\n        await API.post(`/driver/trip/${id}/location`, newLoc);\r\n      },\r\n      (err) => console.log(err),\r\n      { enableHighAccuracy: true }\r\n    );\r\n  };\r\n\r\n  const stopGPS = () => {\r\n    if (watchRef.current)\r\n      navigator.geolocation.clearWatch(watchRef.current);\r\n  };\r\n\r\n  /* ================= CONTROLS ================= */\r\n  const startTrip = async () => {\r\n    await API.post(`/driver/trip/${trip._id}/start`);\r\n    setStatus(\"running\");\r\n    startGPS(trip._id);\r\n  };\r\n\r\n  const pauseTrip = async () => {\r\n    await API.post(`/driver/trip/${trip._id}/pause`);\r\n    stopGPS();\r\n    setStatus(\"paused\");\r\n  };\r\n\r\n  const resumeTrip = async () => {\r\n    await API.post(`/driver/trip/${trip._id}/resume`);\r\n    setStatus(\"running\");\r\n    startGPS(trip._id);\r\n  };\r\n\r\n  const endTrip = async () => {\r\n    await API.post(`/driver/trip/${trip._id}/end`);\r\n    stopGPS();\r\n    previousLocation.current = null;\r\n    setLocation(null);\r\n    await loadActiveTrip(); // ðŸ”¥ Auto load next trip\r\n  };\r\n\r\n  /* ================= STATUS COLOR ================= */\r\n  const getBadgeColor = () => {\r\n    switch (status) {\r\n      case \"running\":\r\n        return \"success\";\r\n      case \"paused\":\r\n        return \"warning\";\r\n      case \"planned\":\r\n        return \"primary\";\r\n      case \"completed\":\r\n        return \"secondary\";\r\n      default:\r\n        return \"info\";\r\n    }\r\n  };\r\n\r\n  if (!bus) {\r\n    return (\r\n      <Container className=\"mt-4\">\r\n        <Alert variant=\"warning\">No bus assigned.</Alert>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container className=\"mt-4\">\r\n      <Card className=\"shadow-lg p-4 mb-4\">\r\n        <Row>\r\n          <Col md={8}>\r\n            <h4>Driver Tracking - {bus.busNo}</h4>\r\n          </Col>\r\n          <Col md={4} className=\"text-end\">\r\n            <Badge bg={getBadgeColor()}>\r\n              {status?.toUpperCase()}\r\n            </Badge>\r\n          </Col>\r\n        </Row>\r\n\r\n        <div className=\"mt-3 d-flex gap-2\">\r\n          {status === \"planned\" && (\r\n            <Button variant=\"success\" onClick={startTrip}>\r\n              Start Trip\r\n            </Button>\r\n          )}\r\n\r\n          {status === \"running\" && (\r\n            <>\r\n              <Button variant=\"warning\" onClick={pauseTrip}>\r\n                Pause\r\n              </Button>\r\n              <Button variant=\"danger\" onClick={endTrip}>\r\n                End\r\n              </Button>\r\n            </>\r\n          )}\r\n\r\n          {status === \"paused\" && (\r\n            <>\r\n              <Button variant=\"primary\" onClick={resumeTrip}>\r\n                Resume\r\n              </Button>\r\n              <Button variant=\"danger\" onClick={endTrip}>\r\n                End\r\n              </Button>\r\n            </>\r\n          )}\r\n        </div>\r\n      </Card>\r\n\r\n      <Card className=\"shadow-lg p-3\">\r\n        <MapContainer\r\n          center={\r\n            routeCoords.length\r\n              ? routeCoords[0]\r\n              : [bus.stops[0].lat, bus.stops[0].lng]\r\n          }\r\n          zoom={14}\r\n          style={{ height: \"500px\", width: \"100%\" }}\r\n        >\r\n          <TileLayer\r\n            attribution=\"Â© OpenStreetMap contributors\"\r\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n          />\r\n\r\n          {routeCoords.length > 0 && (\r\n            <Polyline positions={routeCoords} color=\"blue\" />\r\n          )}\r\n\r\n          {trip?.tripType !== \"event\" &&\r\n            bus.stops.map((stop, i) => (\r\n              <Marker key={i} position={[stop.lat, stop.lng]} icon={stopIcon}>\r\n                <Popup>{stop.stopName}</Popup>\r\n              </Marker>\r\n            ))}\r\n\r\n          {location && (\r\n            <>\r\n              <Marker position={[location.lat, location.lng]} icon={busIcon}>\r\n                <Popup>Live Bus</Popup>\r\n              </Marker>\r\n              <RecenterMap location={location} />\r\n            </>\r\n          )}\r\n        </MapContainer>\r\n      </Card>\r\n    </Container>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}